= form_for @user do |f|
  %h4= "Create An Account"
  - if @user.errors.any?
    #error_explanation
      %h2
        = pluralize(@user.errors.count, "error")
        prohibited this user from being created:
      %ul
        - @user.errors.full_messages.each do |msg|
          %li= msg
          - if @user.errors.messages[:email]
            = link_to 'Sign In?', new_session_path

  = f.text_field :full_name, placeholder: "Full Name"
  = f.text_field :email, placeholder: "Email"
  = f.text_field :display_name, placeholder: "Display name (optional)"
  = f.password_field :password, placeholder: "Password"
  = f.password_field :password_confirmation, placeholder: "Confirm password"
  = f.hidden_field :stripe_card_token
  %br 
  %br 
  %h4 Your Credit Card Details
  = text_field_tag :card_number, nil, name: nil, placeholder: "Credit card number"
  = text_field_tag :card_code, nil, name: nil, placeholder: "Security code (CVV)"
  = label_tag :card_month, "Card Expiration"
  = select_month nil, {add_month_numbers: true}, {name: nil, id: "card_month"}
  = select_year nil, {start_year: Date.today.year, end_year: Date.today.year+15}, {name: nil, id: "card_year"}
  #stripe_error
    %noscript JavaScript is not enabled and is required for this form. First enable it in your web browser settings.
  = f.submit "Register", :class => "form-primary-button"
